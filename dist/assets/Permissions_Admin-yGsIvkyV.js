import{r,A as y,m as x,c as n,b as f,u as b,a as s,F as v,x as k,i as w,o as i,t as l}from"./index-Ce5nBVLN.js";import{V as P}from"./vue-spinner-tail-C5yLa_ls.js";import{t as A}from"./toast-BWxgGeSH.js";import{a as p}from"./axios-CBe-jvwZ.js";import"./lodash-mI71ra8D.js";const N={key:0,class:"fixed inset-0 flex items-center justify-center bg-white/70 z-50"},B={key:1,class:"min-h-screen bg-gray-50"},R={class:"bg-white border-b px-4 py-3 shadow-sm flex items-center"},V={class:"p-4"},C={class:"bg-white shadow rounded-lg overflow-x-auto"},$={class:"w-full text-sm border-collapse text-center"},z={class:"px-3 py-2"},D={class:"px-3 py-2 font-medium"},F={class:"px-3 py-2 text-gray-600"},K={class:"px-3 py-e text-gray-600"},L=["checked","disabled","onChange"],I={__name:"Permissions_Admin",setup(S){r([]),w();const u=y(),o=r(!1),m=r(null),g=r(u.params.id),c=r();console.log("user-id",g.value);const d=async()=>{o.value=!0;try{const a=await p.get("/user_permissions/permissions");c.value=a.data.data}catch(a){console.log(a)}finally{o.value=!1}},h=async(a,t)=>{o.value=!0;try{const e=await p.post("/user_permissions/update-permission",{id:a,is_granted:t});e.data.success&&(d(),A.success(e.data.message))}catch(e){console.log("error-",e)}finally{o.value=!1}};return x(()=>{d()}),(a,t)=>o.value?(i(),n("div",N,[f(b(P),{size:"48px",color:"#2563eb"})])):(i(),n("div",B,[s("header",R,[s("button",{onClick:t[0]||(t[0]=e=>a.$router.go(-1)),class:"text-gray-600 hover:text-blue-600"}," â† Back "),t[1]||(t[1]=s("h1",{class:"ml-3 text-lg font-semibold"},"Route Permissions",-1))]),s("main",V,[s("div",C,[s("table",$,[t[2]||(t[2]=s("thead",{class:"bg-gray-100 uppercase text-xs"},[s("tr",null,[s("th",{class:"px-3 py-2"},"#"),s("th",{class:"px-3 py-2"},"Route Name"),s("th",{class:"px-3 py-2"},"Path"),s("th",{class:"px-3 py-2 text-center"},"Page Access Permission")])],-1)),s("tbody",null,[(i(!0),n(v,null,k(c.value,(e,_)=>(i(),n("tr",{key:e.name,class:"border-t hover:bg-gray-50"},[s("td",z,l(_+1),1),s("td",D,l(e.path_name||"N/A"),1),s("td",F,l(e.path||"N/A"),1),s("td",K,[s("input",{type:"checkbox",class:"w-4 h-4 cursor-pointer",checked:e.is_granted,disabled:m.value===e.permissionKey,onChange:j=>h(e.id,e.is_granted)},null,40,L)])]))),128))])])])])]))}};export{I as default};
