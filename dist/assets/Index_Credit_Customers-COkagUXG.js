import{r as w,k,m as C,c as o,a as t,b as l,u as x,f as c,F as u,x as y,i as P,A as D,o as n,t as r,h as m,e as h}from"./index-DV6dlnpV.js";import{a as f}from"./axios-CBe-jvwZ.js";import{S as V}from"./SearchBar-BoWKiQOP.js";import{f as N}from"./formatDate-BMM6x1UD.js";import{V as U}from"./vue-spinner-tail-BKfNpXkp.js";import"./toast-BWxgGeSH.js";import{_ as j}from"./Pagination-BtWa0dpH.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-50/80 backdrop-blur-md z-50"},S={class:"flex flex-col items-center"},A={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},B={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},E={class:"w-full md:w-72"},R={key:0,class:"space-y-4 sm:hidden"},$={class:"p-4"},F={class:"flex justify-between items-start mb-3"},L={class:"flex items-center gap-3"},M={class:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold text-xs"},z={class:"min-w-0"},W={class:"font-bold text-gray-900 dark:text-gray-100 truncate"},H={class:"text-[10px] px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-700 text-gray-500 uppercase font-medium"},T=["onClick"],G={class:"space-y-2 border-t border-gray-50 dark:border-gray-700 pt-3"},J={class:"flex items-center text-xs text-gray-600 dark:text-gray-400"},K={class:"flex items-center text-xs text-gray-600 dark:text-gray-400"},O={class:"truncate"},Q={key:1,class:"hidden sm:block bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm overflow-hidden"},X={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Y={class:"divide-y divide-gray-200 dark:divide-gray-700"},Z={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-400"},q={class:"px-6 py-4 whitespace-nowrap"},tt={class:"text-sm font-semibold text-gray-900 dark:text-white"},et={class:"text-xs text-gray-500 dark:text-gray-400 max-w-[200px] truncate"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},rt={class:"px-6 py-4 whitespace-nowrap text-right"},ot=["onClick"],nt={key:2,class:"flex flex-col items-center justify-center py-20 bg-gray-50 dark:bg-gray-900/20 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-800"},dt={class:"mt-8 flex justify-center"},ft={__name:"Index_Credit_Customers",setup(it){const _=P();D();const i=w(!1),a=k({customers:[],pagination:{currentPage:1,nextPageUrl:null,prevPageUrl:null,lastPage:1}}),g=async(d="/credit/customers")=>{try{i.value=!0;const s=await f.get(d);a.customers=s.data.data.data,console.log("creadit view----",s.data);const e=s.data.data;console.log("paginated",e.current_page),a.pagination.currentPage=e.current_page??1,a.pagination.lastPage=e.last_page??1,a.pagination.nextPageUrl=e.next_page_url??null,a.pagination.prevPageUrl=e.prev_page_url??null}catch(s){console.log("Error fetching customers",s)}finally{i.value=!1}},p=d=>{_.push({name:"admin.credits-customer",params:{id:d}})},b=async d=>{console.log("Search query:",d);try{const s=d?`/credit/customers?search=${encodeURIComponent(d)}`:"/credit/customers",e=await f.get(s);console.log(e.data),a.customers=e.data.data.data,a.pagination.currentPage=e.data.current_page,a.pagination.lastPage=e.data.last_page,a.pagination.nextPageUrl=e.data.next_page_url,a.pagination.prevPageUrl=e.data.prev_page_url}catch(s){console.log("Error searching customers",s)}};return C(async()=>{g()}),(d,s)=>i.value?(n(),o("div",I,[t("div",S,[l(x(U),{size:"48px",color:"#2563eb"}),s[0]||(s[0]=t("p",{class:"mt-4 text-blue-600 text-sm font-semibold tracking-wide animate-pulse uppercase"}," Loading data... ",-1))])])):(n(),o("div",A,[t("div",B,[s[1]||(s[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight"}," Credit Customers "),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Manage and view customer credit history")],-1)),t("div",E,[l(V,{onInput:b})])]),a.customers.length>0?(n(),o("div",R,[(n(!0),o(u,null,y(a.customers,e=>(n(),o("div",{key:e.id,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm overflow-hidden"},[t("div",$,[t("div",F,[t("div",L,[t("div",M,r(e.name.charAt(0)),1),t("div",z,[t("h3",W,r(e.name),1),t("span",H,"ID: "+r(e.id),1)])]),t("button",{onClick:m(v=>p(e.id),["prevent"]),class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 active:scale-95 text-white text-xs font-bold rounded-lg transition-all shadow-sm"}," VIEW ",8,T)]),t("div",G,[t("div",J,[s[2]||(s[2]=t("span",{class:"w-16 font-medium text-gray-400"},"Phone:",-1)),h(" "+r(e.phone_one||"â€”"),1)]),t("div",K,[s[3]||(s[3]=t("span",{class:"w-16 font-medium text-gray-400"},"Address:",-1)),s[4]||(s[4]=h()),t("span",O,r(e.address||"No address"),1)])])])]))),128))])):c("",!0),a.customers.length>0?(n(),o("div",Q,[t("table",X,[s[5]||(s[5]=t("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"ID"),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Customer Details"),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Phone"),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Created Date"),t("th",{scope:"col",class:"px-6 py-4 text-right text-xs font-bold text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",Y,[(n(!0),o(u,null,y(a.customers,e=>(n(),o("tr",{key:e.id,class:"hover:bg-blue-50/30 dark:hover:bg-gray-700/30 transition-colors group"},[t("td",Z,"#"+r(e.id),1),t("td",q,[t("div",tt,r(e.name),1),t("div",et,r(e.address),1)]),t("td",st,r(e.phone_one),1),t("td",at,r(x(N)(e.created_at)),1),t("td",rt,[t("button",{onClick:m(v=>p(e.id),["prevent"]),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-bold rounded-lg text-blue-700 bg-blue-50 hover:bg-blue-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-sm"}," View History ",8,ot)])]))),128))])])])):c("",!0),a.customers.length===0?(n(),o("div",nt,[...s[6]||(s[6]=[t("div",{class:"bg-white dark:bg-gray-800 p-6 rounded-full shadow-xl mb-6"},[t("img",{src:"https://cdn-icons-png.flaticon.com/512/4076/4076549.png",alt:"No Data",class:"w-24 h-24 grayscale opacity-40"})],-1),t("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2"},"No Records Found",-1),t("p",{class:"text-gray-500 dark:text-gray-400 max-w-xs text-center"},"We couldn't find any credit customers matching your search or filters.",-1)])])):c("",!0),t("div",dt,[l(j,{pagination:a.pagination,onPageChange:g},null,8,["pagination"])])]))}};export{ft as default};
