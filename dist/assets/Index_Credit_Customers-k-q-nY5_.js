import{r as k,j as w,l as C,c as r,a as t,b as x,u as p,f as d,F as m,q as y,g as l,h as P,z as U,o as n,t as o}from"./index-VsIih__0.js";import{a as f}from"./axios-DE8_S7fk.js";import{S as j}from"./SearchBar-ChRugXy7.js";import{f as h}from"./formatDate-BMM6x1UD.js";import{V as N}from"./vue-spinner-tail-C3An_VU4.js";import"./toast-kIWbnzaY.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.esm.all-BQxta0Da.js";const B={key:0,class:"fixed inset-0 flex items-center justify-center bg-white/70 backdrop-blur-sm z-50"},V={class:"flex flex-col items-center space-y-3"},D={key:1,class:"mt-3"},M={class:"flex justify-between flex-col md:flex-row items-center mb-4"},S={key:0,class:"space-y-3 sm:hidden px-2"},I={class:"flex items-start justify-between gap-3"},$={class:"flex items-center gap-3 min-w-0"},z={class:"min-w-0"},E={class:"flex items-center gap-2"},F={class:"text-sm font-semibold truncate text-gray-900 dark:text-gray-100"},L={class:"text-[11px] text-gray-500 truncate"},R={class:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate"},A={class:"flex-shrink-0"},q=["onClick"],G={class:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-300 pt-1"},H={class:"flex items-center gap-2"},J={class:"flex items-center gap-2"},K={class:"truncate"},O={class:"hidden sm:block overflow-x-auto shadow-md rounded-lg"},Q={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},T={class:"bg-white dark:bg-gray-800 divide-y divide-gray-100 dark:divide-gray-700"},W={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},X={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300"},Y={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Z={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300"},tt={class:"px-4 py-3 truncate text-sm text-gray-600 dark:text-gray-300 max-w-xs"},et={class:"px-4 py-3 whitespace-nowrap text-center"},st=["onClick"],at={key:1,class:"flex flex-col items-center justify-center h-[60vh] text-center"},rt={key:2,class:"flex items-center justify-end gap-2 mt-3 px-2"},mt={__name:"Index_Credit_Customers",setup(nt){const v=P();U();const c=k(!1),a=w({customers:[],pagination:{currentPage:1,lastPage:1,nextPageUrl:null,prevPageUrl:null}}),g=async(i="/credit/customers")=>{try{c.value=!0;const e=await f.get(i);a.customers=e.data.data.data,console.log("creadit view----",e.data),a.pagination.currentPage=e.data.current_page,a.pagination.lastPage=e.data.last_page,a.pagination.nextPageUrl=e.data.next_page_url,a.pagination.prevPageUrl=e.data.prev_page_url}catch(e){console.log("Error fetching customers",e)}finally{c.value=!1}},u=i=>{v.push({name:"admin.credits-customer",params:{id:i}})},_=async i=>{console.log("Search query:",i);try{const e=i?`/credit/customers?search=${encodeURIComponent(i)}`:"/credit/customers",s=await f.get(e);console.log(s.data),a.customers=s.data.data.data,a.pagination.currentPage=s.data.current_page,a.pagination.lastPage=s.data.last_page,a.pagination.nextPageUrl=s.data.next_page_url,a.pagination.prevPageUrl=s.data.prev_page_url}catch(e){console.log("Error searching customers",e)}};return C(async()=>{g()}),(i,e)=>c.value?(n(),r("div",B,[t("div",V,[x(p(N),{size:"48px",color:"#2563eb"}),e[2]||(e[2]=t("p",{class:"text-blue-600 text-sm font-medium animate-pulse"}," Loading, please wait... ",-1))])])):(n(),r("div",D,[t("div",M,[e[3]||(e[3]=t("div",null,null,-1)),e[4]||(e[4]=t("div",{class:"text-center justify-center items-center font-bold text-lg mb-3"},"Credit Customers",-1)),x(j,{class:"md:w-1/4",onInput:_})]),a.customers.length>0?(n(),r("div",S,[(n(!0),r(m,null,y(a.customers,s=>(n(),r("div",{key:s.id,class:"bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-lg shadow-sm p-3 flex flex-col gap-2"},[t("div",I,[t("div",$,[e[6]||(e[6]=t("div",{class:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0"},[t("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zM4 20a8 8 0 0116 0"})])],-1)),t("div",z,[t("div",E,[t("h3",F,o(s.name),1),e[5]||(e[5]=t("span",{class:"text-[11px] text-gray-400"},"•",-1)),t("span",L,"ID: "+o(s.id),1)]),t("p",R,o(s.address||"No address"),1)])]),t("div",A,[t("button",{onClick:l(b=>u(s.id),["prevent"]),type:"button",class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-300 transition"}," View ",8,q)])]),t("div",G,[t("div",H,[e[7]||(e[7]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 2v6h6"})],-1)),t("span",null,o(p(h)(s.created_at)),1)]),t("div",J,[e[8]||(e[8]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 8l7 6 7-6"})],-1)),t("span",K,o(s.phone||"—"),1)])])]))),128))])):d("",!0),t("div",O,[t("table",Q,[e[9]||(e[9]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Id"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Created-Date"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Name"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Phone"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Address"),t("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),t("tbody",T,[(n(!0),r(m,null,y(a.customers,s=>(n(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-900"},[t("td",W,o(s.id),1),t("td",X,o(p(h)(s.created_at)),1),t("td",Y,o(s.name),1),t("td",Z,o(s.phone_one),1),t("td",tt,o(s.address),1),t("td",et,[t("button",{onClick:l(b=>u(s.id),["prevent"]),type:"button",class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-300 transition"}," View ",8,st)])]))),128))])])]),a.customers.length===0?(n(),r("div",at,[...e[10]||(e[10]=[t("img",{src:"https://cdn-icons-png.flaticon.com/512/4076/4076549.png",alt:"No Data",class:"w-32 h-32 opacity-70 mb-4"},null,-1),t("h2",{class:"text-xl font-semibold text-gray-700 mb-2"},"No Credit Found",-1),t("p",{class:"text-gray-500"},null,-1)])])):d("",!0),a.pagination.prevPageUrl||a.pagination.nextPageUrl?(n(),r("div",rt,[a.pagination.prevPageUrl?(n(),r("button",{key:0,onClick:e[0]||(e[0]=l(s=>g(a.pagination.prevPageUrl),["prevent"])),type:"button",class:"px-3 h-8 text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200"}," Previous ")):d("",!0),a.pagination.nextPageUrl?(n(),r("button",{key:1,onClick:e[1]||(e[1]=l(s=>g(a.pagination.nextPageUrl),["prevent"])),type:"button",class:"px-3 h-8 text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200"}," Next ")):d("",!0)])):d("",!0)]))}};export{mt as default};
